<!DOCTYPE html>
<html>
<head>
    <title>Gemini API æ¸¬è©¦</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { padding: 10px; margin: 10px 0; border-radius: 4px; }
        .success { background-color: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background-color: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        button { padding: 10px 20px; font-size: 16px; margin: 5px; }
    </style>
</head>
<body>
    <h1>ğŸ”§ Gemini API Key æ¸¬è©¦å·¥å…·</h1>
    
    <button onclick="testApiKey()">æ¸¬è©¦ API Key</button>
    <button onclick="testBasicCall()">æ¸¬è©¦åŸºæœ¬èª¿ç”¨</button>
    <button onclick="clearResults()">æ¸…é™¤çµæœ</button>
    
    <div id="results"></div>
    
    <script>
        // æ³¨æ„ï¼šé€™å€‹æ¸¬è©¦é é¢éœ€è¦åœ¨æ‚¨çš„æ‡‰ç”¨ç¨‹å¼ä¸­ä½¿ç”¨ï¼Œ
        // å› ç‚ºå®ƒéœ€è¦å­˜å– process.env.API_KEY
        
        function addResult(message, isSuccess = true) {
            const div = document.createElement('div');
            div.className = `test-result ${isSuccess ? 'success' : 'error'}`;
            div.innerHTML = `<strong>${new Date().toLocaleTimeString()}</strong><br>${message}`;
            document.getElementById('results').appendChild(div);
        }
        
        async function testApiKey() {
            addResult('ğŸ”„ é–‹å§‹æ¸¬è©¦ API Key...', true);
            
            try {
                // é€™éœ€è¦åœ¨å¯¦éš›çš„ React æ‡‰ç”¨ä¸­èª¿ç”¨
                console.log('è«‹åœ¨ç€è¦½å™¨ Console ä¸­æŸ¥çœ‹è©³ç´°è³‡è¨Š');
                addResult('è«‹æª¢æŸ¥ç€è¦½å™¨ Console ä¸­çš„è©³ç´°æ¸¬è©¦çµæœ', true);
                
                // æ¨¡æ“¬æ¸¬è©¦ï¼ˆå¯¦éš›æ¸¬è©¦éœ€è¦åœ¨ React æ‡‰ç”¨ä¸­é€²è¡Œï¼‰
                addResult(`
                    <strong>API Key æª¢æŸ¥æ¸…å–®ï¼š</strong><br>
                    1. API Key é•·åº¦æ‡‰è©²ç´„ç‚º 39 å­—ç¬¦<br>
                    2. æ‡‰è©²ä»¥ 'AIzaSy' é–‹é ­<br>
                    3. ä¸æ‡‰è©²åŒ…å«å¼•è™Ÿæˆ–ç©ºæ ¼<br>
                    4. åœ¨ Google AI Studio ä¸­æ‡‰è©²é¡¯ç¤ºç‚º Active
                `, true);
                
            } catch (error) {
                addResult(`âŒ æ¸¬è©¦å¤±æ•—: ${error.message}`, false);
            }
        }
        
        async function testBasicCall() {
            addResult('ğŸ”„ æ¸¬è©¦åŸºæœ¬ API èª¿ç”¨...', true);
            addResult(`
                <strong>æ‰‹å‹•æ¸¬è©¦æ­¥é©Ÿï¼š</strong><br>
                1. é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·<br>
                2. åœ¨ Console ä¸­åŸ·è¡Œ: testApiKey()<br>
                3. æª¢æŸ¥æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯<br>
                4. å¦‚æœæˆåŠŸï¼Œæ‡‰è©²çœ‹åˆ° "API Key æ¸¬è©¦æˆåŠŸ" è¨Šæ¯
            `, true);
        }
        
        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }
        
        // é é¢è¼‰å…¥æ™‚çš„æç¤º
        window.onload = function() {
            addResult(`
                <strong>ä½¿ç”¨èªªæ˜ï¼š</strong><br>
                1. é€™å€‹é é¢éœ€è¦åœ¨æ‚¨çš„ React æ‡‰ç”¨ä¸­é–‹å•Ÿæ‰èƒ½æ­£å¸¸æ¸¬è©¦<br>
                2. ç¢ºä¿é–‹ç™¼æœå‹™å™¨æ­£åœ¨é‹è¡Œ (http://localhost:3003)<br>
                3. åœ¨æ‡‰ç”¨ä¸­å°å…¥ä¸¦èª¿ç”¨ testApiKey å‡½æ•¸<br>
                4. æª¢æŸ¥ Console ä¸­çš„è©³ç´°è¼¸å‡º
            `, true);
        };
    </script>
</body>
</html>
